"""Various utilities to process NV2A PGRAPH logs formatted in the style of xemu [xemu.app].

This file is automatically generated by https://github.com/abaire/nv2a-define-collator and should not be edited.
"""

from __future__ import annotations

import ctypes
import struct
import sys
from dataclasses import dataclass
from typing import Any, Callable, NamedTuple


ProcessorFunc = Callable[[int, int, int], str]


class StateArray(NamedTuple):
    """A multi-value entry (e.g., a vertex color)"""

    """The command ID of the first entry in the array."""
    base: int

    """Size of each element in bytes."""
    stride: int

    """Number of consecutive elements."""
    count: int


class StructStateArray(NamedTuple):
    """An array of potentially multi-value elements, possibly with gaps between.

    E.g., light colors (4 elements per color x 8 lights with all parameters for each light provided consecutively
    before the next light's parameters.)
    """

    """The command ID of the first entry in the array."""
    base: int

    """Number of bytes between the first field of the first entry and the first field of the second entry."""
    struct_stride: int

    """Number of entries in the state array."""
    struct_count: int

    """Size of each field in bytes."""
    stride: int

    """Number of consecutive fields."""
    count: int

